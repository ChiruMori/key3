const CONST_VAL={tokenKey:"accessToken",refreshKey:"refreshToken",tokenTime:"accessEndTime",tokenQueryName:"admin_token_Authorization",tokenHeaderName:"ADMIN-Authorization",managingClubKey:"managing_club",clubChangedEventKey:"club_changed"};const GLOBAL_VAL={nowClubId:null};(function(a){a("#sidebarToggle, #sidebarToggleTop").on("click",function(b){a("body").toggleClass("sidebar-toggled");a(".sidebar").toggleClass("toggled");if(a(".sidebar").hasClass("toggled")){a(".sidebar .collapse").collapse("hide")}});a(window).resize(function(){if(a(window).width()<768){a(".sidebar .collapse").collapse("hide")}if(a(window).width()<480&&!a(".sidebar").hasClass("toggled")){a("body").addClass("sidebar-toggled");a(".sidebar").addClass("toggled");a(".sidebar .collapse").collapse("hide")}});a("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(b){if(a(window).width()>768){var d=b.originalEvent,c=d.wheelDelta||-d.detail;this.scrollTop+=(c<0?1:-1)*30;b.preventDefault()}});a(document).on("scroll",function(){var b=a(this).scrollTop();if(b>100){a(".scroll-to-top").fadeIn()}else{a(".scroll-to-top").fadeOut()}});a(document).on("click","a.scroll-to-top",function(c){var b=a(this);a("html, body").stop().animate({scrollTop:(a(b.attr("href")).offset().top)},1000,"easeInOutExpo");c.preventDefault()})})(jQuery);let utils=(function(){const f=function(l){let formObj={};let arr=$("#"+l).serializeArray();$.each(arr,function(){if(formObj[this.name]){formObj[this.name]=[formObj[this.name],this.value];return}formObj[this.name]=this.value});return formObj};const b="http://127.0.0.1:8520/key3/";const j=function(m,l){let paramStr="";if(m instanceof String||m instanceof Number||m instanceof Boolean){paramStr+="&"+l+"="+encodeURIComponent(m)}else{$.each(m,function(n){let k=l==null?n:l+(m instanceof Array?"["+n+"]":"."+n);paramStr+="&"+j(this,k)})}return paramStr.substr(1)};const h=function(n,p,q,l,o,m){if(!m){m=function(){}}if(q==="GET"||q==="DELETE"){n+=j(p);p=""}else{p=JSON.stringify(p)}let tokenHeaders={};let cachedAccessToken=c(CONST_VAL.tokenKey);if(cachedAccessToken){tokenHeaders[CONST_VAL.tokenHeaderName]=cachedAccessToken}$.ajax({url:b+n,type:q,data:p,dataType:"json",headers:tokenHeaders,contentType:"application/json;charset=utf-8",success:function(r){l(r)},error:function(r){o(r)},complete:function(r){m(r)}})};const c=function(l){return JSON.parse(localStorage.getItem(l))};const a=function(l,m){localStorage.setItem(l,JSON.stringify(m))};const d={};const g={};const i=function(l,m){if(typeof g[l]==="function"){g[l](m);return}d[l]=m};const e=function(m,l){if(typeof l!=="function"){delete g[m]}if(d[m]){l(d[m]);delete d[m];return}g[m]=l};let loadingShowing=false;return{formToObj:f,ajax:h,readCache:c,writeCache:a,publishEvent:i,subscribeEvent:e,showLoading:function(l){if(loadingShowing){throw"加载层已在显示中，不能重复打开"}loadingShowing=true;if(!l){l="LOADING..."}$("#loadingLayer").fadeIn();$("#loadingText").text(l)},hideLoading:function(){if(!loadingShowing){throw"加载层尚未显示，无法关闭"}loadingShowing=true;$("#loadingLayer").fadeOut()},whenIs:function(l){if(l.constructor===Date){l=l.getTime()}let timeDiff=(new Date().getTime()-l)/1000;if(timeDiff>31104000){return ~~(timeDiff/31104000)+"年前"}if(timeDiff>2592000){return ~~(timeDiff/2592000)+"个月前"}if(timeDiff>86400*2){return ~~(timeDiff/86400)+"天前"}if(timeDiff>86400){return"昨天"}if(timeDiff>3600){return ~~(timeDiff/3600)+"小时前"}if(timeDiff>60){return ~~(timeDiff/60)+"分钟前"}return"刚刚"}}})();