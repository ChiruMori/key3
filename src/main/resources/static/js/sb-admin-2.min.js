const CONST_VAL={tokenKey:"accessToken",refreshKey:"refreshToken",tokenTime:"accessEndTime",tokenQueryName:"admin_token_Authorization",tokenHeaderName:"ADMIN-Authorization",managingClubKey:"managing_club",clubChangedEventKey:"club_changed",newClubLockKey:"new_club_lock"};const GLOBAL_VAL={nowClubId:null};(function(a){a("#sidebarToggle, #sidebarToggleTop").on("click",function(b){a("body").toggleClass("sidebar-toggled");a(".sidebar").toggleClass("toggled");if(a(".sidebar").hasClass("toggled")){a(".sidebar .collapse").collapse("hide")}});a(window).resize(function(){if(a(window).width()<768){a(".sidebar .collapse").collapse("hide")}if(a(window).width()<480&&!a(".sidebar").hasClass("toggled")){a("body").addClass("sidebar-toggled");a(".sidebar").addClass("toggled");a(".sidebar .collapse").collapse("hide")}});a("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(b){if(a(window).width()>768){var d=b.originalEvent,c=d.wheelDelta||-d.detail;this.scrollTop+=(c<0?1:-1)*30;b.preventDefault()}});a(document).on("scroll",function(){var b=a(this).scrollTop();if(b>100){a(".scroll-to-top").fadeIn()}else{a(".scroll-to-top").fadeOut()}});a(document).on("click","a.scroll-to-top",function(c){var b=a(this);a("html, body").stop().animate({scrollTop:(a(b.attr("href")).offset().top)},1000,"easeInOutExpo");c.preventDefault()})})(jQuery);let utils=(function(){const g=function(m){let formObj={};let arr=$("#"+m).serializeArray();$.each(arr,function(){if(formObj[this.name]){formObj[this.name]=[formObj[this.name],this.value];return}formObj[this.name]=this.value});return formObj};const b="/key3/";const l=function(n,m){let paramStr="";if(n instanceof String||n instanceof Number||n instanceof Boolean){paramStr+="&"+m+"="+encodeURIComponent(n)}else{$.each(n,function(o){let k=m==null?o:m+(n instanceof Array?"["+o+"]":"."+o);paramStr+="&"+l(this,k)})}return paramStr.substr(1)};const i=function(o,q,r,m,p,n){if(!n){n=function(){}}if(r==="GET"||r==="DELETE"){let connector=/\?.+=/.test(o)?"&":"?";o=o+connector+l(q);q=""}else{q=JSON.stringify(q)}let tokenHeaders={};let cachedAccessToken=c(CONST_VAL.tokenKey);if(cachedAccessToken){tokenHeaders[CONST_VAL.tokenHeaderName]=cachedAccessToken}$.ajax({url:b+o,type:r,data:q,dataType:"json",headers:tokenHeaders,contentType:"application/json;charset=utf-8",success:function(s){m(s)},error:function(s){p(s)},complete:function(s){n(s)}})};const c=function(m){return JSON.parse(localStorage.getItem(m))};const f=function(m){localStorage.removeItem(m)};const a=function(m,n){localStorage.setItem(m,JSON.stringify(n))};const d={};const h={};const j=function(m,n){if(typeof h[m]==="function"){h[m](n);return}d[m]=n};const e=function(n,m){if(typeof m!=="function"){delete h[n]}h[n]=m;if(d[n]){m(d[n]);delete d[n]}};let loadingShowing=false;return{formToObj:g,ajax:i,readCache:c,writeCache:a,removeCache:f,publishEvent:j,subscribeEvent:e,showLoading:function(m){if(loadingShowing){throw"加载层已在显示中，不能重复打开"}loadingShowing=true;if(!m){m="LOADING..."}$("#loadingLayer").fadeIn();$("#loadingText").text(m)},hideLoading:function(){if(!loadingShowing){throw"加载层尚未显示，无法关闭"}loadingShowing=false;$("#loadingLayer").fadeOut()},whenIs:function(m){if(m.constructor===Date){m=m.getTime()}let timeDiff=(new Date().getTime()-m)/1000;if(timeDiff>31104000){return ~~(timeDiff/31104000)+"年前"}if(timeDiff>2592000){return ~~(timeDiff/2592000)+"个月前"}if(timeDiff>86400*2){return ~~(timeDiff/86400)+"天前"}if(timeDiff>86400){return"昨天"}if(timeDiff>3600){return ~~(timeDiff/3600)+"小时前"}if(timeDiff>60){return ~~(timeDiff/60)+"分钟前"}return"刚刚"},wrapUrlWithToken:function(m){let connector=/\?.+=/.test(m)?"&":"?";return m+connector+CONST_VAL.tokenQueryName+"="+c(CONST_VAL.tokenKey)}}})();